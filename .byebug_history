c
n
c
n
c
n
@blog.id
c
@blog.body
@blog
self
@blog.changed
@blog.changed?
c
n
s
activity_type_id
n
c
Activity.create(approved: 0, user_id: user_id, activity_type_id: activity_type_id.id)
n
Activity.create(approved: 0, user_id: user_id, activity_type_id: activity_type_id.id)
 ActivityType.find_by(activity_type: activity_type).id
 ActivityType.find_by(activity_type: activity_type)
activity_type
c
n
activity_type
n
c
act_type = params[:controller] + '.' + params[:action]
act_type = params[:controller] + params[:action]
params[:action]
params[:controller]
params
c
n
@blog.blog_owner?(current_user)
current_user.role.include?('Admin')
c
@blog.blog_owner?(current_user)
@blog.user.blog_owner?(current_user)
@blog
@user
c
redirect_to url_for(controller: 'activities', method: :post)
c
n
c
n
(@blog.blog_owner?(current_user) || current_user.role == "Admin")
c
n
(@blog.blog_owner?(current_user) || current_user.role == "Admin")
c
n
@blog.blog_owner?(current_user) || current_user.role == "Admin"
@blog.blog_owner?(current_user)
c
params
self
current_user.blog_owner?(current_user)
c
self
n
s
current_user
current_user.blog_owner?(current_user)
c
params
c
params
c
n
c
n
@change_user
n
c
n
@change_user
n
params
c
params
c
user_params
c
params
params.require(:user)
params.require(:user).permit(:f_name,:l_name,:password,:password_confirmation,:address,:email,:phone,:about_user,:role)
params
s
@user.update(params[:role])
@user.update(params)
params
user_params
c
@user.update(params[:role])
n
params
c
n
params
c
user_params
params
c
current_user && comment.user.blog_owner?(current_user)
c
comment
commentr
c
user_id
self
id
n
s
current_user
comment.user_id
comment.comment_owner?(current_user)
n
comment
n
comment
n
comment
c
comment
c
comment
c
current_user
comment.comment_owner?(current_user)
comment
n
comment
c
comment
current_user
c
comment.comment_owner?(current_user)
c
comment.comment_owner?(current_user)
comment.comment_owner?
comment.class
comment
c
session[:user_id]
c
session[:user_id]
c
n
session[:user_id]
c
current_user
c
session[:user_id]
s
current_user
c
current_user
c
current_user
c
n
current_user
c
n
current_user
c
n
current_user
c
user_path(current_user)
current_user
@user
n
current_user
c
current_user
c
user_path(@user)
@user
    end
      @user ||= User.find(session[:user_id])
    if session[:user_id]
  def current_user
current_user
@user
n
current_user
c
session[:user_id]
c
n
c
session[:user_id]
c
session[:user_id] && blog.user_id == current_user.id
n
c
@user ||= User.find(session[:user_id])
n
session[:user_id]
c
User.find_by(id: session[:user_id])
User.find_by(id: 4)
User.find_by(session[:user_id])
session[:user_id]
n
s
current_user.id
blog.user_id == current_user.id
session[:user_id]
n
edit_blog_path(blog)
n
session[:user_id]
current_user
blog.user_id
n
session[:user_id]
n
c
User.find_by(4).blogs
User.find_by(4)
User.find_by(session[:user_id])
@user
n
session[:user_id]
current_user
c
session[:user_id]
c
session[:user_id]
c
session[:user_id]
n
c
blog
session[:user_id] && blog.user_id == current_user.id
n
session[:user_id]
n
c
current_user
!current_user
if !current_user
n
session[:user_id]
c
session[:user_id]
c
User.find_by(session[:user_id])
@user ||= User.find_by(session[:user_id])
